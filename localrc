set -x
HOST_NAME=$(hostname)
SERVICE_HOST_NAME=vtd

if [ "$HOST_NAME" = "$SERVICE_HOST_NAME" ]; then
   ENABLED_SERVICES="g-api,g-reg,key,n-api,n-crt,n-obj,n-cpu,-n-net,n-vol,n-sch,n-novnc,n-xvnc,n-cauth,horizon,mysql,rabbit,quantum,q-agt,q-l3,q-dhcp,q-svc"
   # ENABLED_SERVICES="g-api,g-reg,key,n-api,n-crt,n-obj,n-cpu,-n-net,n-vol,n-sch,n-novnc,n-xvnc,n-cauth,horizon,mysql,rabbit,quantum,q-agt,q-dhcp,q-svc"
else
   # for compute-only node
   ENABLED_SERVICES="n-cpu,quantum,q-agt"
fi

# when kvm vails, automatically falls back to qemu
LIBVIRT_TYPE=kvm
# LIBVIRT_FIREWALL_DRIVER=nova.virt.firewall.NoopFirewallDriver

# Change SERVICE_HOST according to your environment
#SERVICE_HOST=$HOST_IP
#SERVICE_HOST=172.17.60.197
SERVICE_HOST=172.17.60.198

# use same ip address for all services
DEV_HOST=172.16.3.33
Q_HOST=$SERVICE_HOST
#RYU_API_HOST=$SERVICE_HOST
#RYU_OFP_HOST=$SERVICE_HOST
#Q_HOST=$DEV_HOST
RYU_API_HOST=$DEV_HOST
RYU_OFP_HOST=$DEV_HOST
MYSQL_HOST=$SERVICE_HOST
RABBIT_HOST=$SERVICE_HOST
GLANCE_HOSTPORT=$SERVICE_HOST:9292
KEYSTONE_AUTH_HOST=$SERVICE_HOST
KEYSTONE_SERVICE_HOST=$SERVICE_HOST

# password
#MYSQL_USER=mysql
#MYSQL_PASSWORD=mysql
MYSQL_USER=root
MYSQL_PASSWORD=valinux
RABBIT_PASSWORD=rabbit
SERVICE_TOKEN=service_token
SERVICE_PASSWORD=service_password
ADMIN_PASSWORD=admin

#
ROOTSLEEP=1

# quantum

Q_PLUGIN=ryu
#Q_AUTH_STRATEGY=noauth
#RYU_EXT_INTERFACE=eth0

#QUANTUM_REPO=file:///home/yamahata/openvswitch/sp-lab/scarab/quantum/for-upstream/quantum-dhcp-agent-0
#QUANTUM_BRANCH=my-1
#QUANTUM_REPO=file:///home/yamahata/openvswitch/sp-lab/scarab/quantum/for-upstream/quantum-ryu-tunnel-key-0
#QUANTUM_BRANCH=my-7
QUANTUM_REPO=file:///home/yamahata/openvswitch/sp-lab/scarab/gre-tunnel/quantum-1
QUANTUM_BRANCH=my-ryu-gre-13

RYU_REPO=file:///home/yamahata/openvswitch/sp-lab/scarab/gre-tunnel/ryu-2
RYU_BRANCH=my-gre-37
#RYU_APPS=ryu.app.simple_isolation,ryu.app.rest,ryu.app.rest_tunnel,ryu.app.rest_conf_switch
#RYU_APPS=ryu.app.gre_tunnel,ryu.app.rest,ryu.app.rest_tunnel,ryu.app.rest_conf_switch
RYU_APPS=ryu.app.gre_tunnel,ryu.app.quantum_adapter,ryu.app.rest,ryu.app.rest_conf_switch,ryu.app.rest_tunnel,ryu.app.tunnel_port_updater


RYU_OFP_HOST=172.16.3.33
LOGFILE=/tmp/log/log
set -x